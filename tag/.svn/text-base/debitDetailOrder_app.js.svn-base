riot.tag2("debitdetailorder",'<div class="main-container"> <div class="main-card"> <div class="card-header"> <span class="card-title"> <span class="{label-icon:true,warning-icon:isWarning,is-over-due:isOverDue}" if="{board.loanStatus}"> <span class="wrap"><span>{formatStatus(board.loanStatus)}</span></span> </span> <span class="loan-detail-list">借款详单</span> </span> </div> <div class="card-body loan-record-border" if="{flag}"> <div class="loan-record"> <div class="{columns:true,over-due-hide:overDueHide}"> <div class="{column:true,label:true,over-due-title:overDueFlag}">逾期应还</div> <div class="{column:true,summary:true,over-due-title:overDueFlag}">&yen;{board.overdueRepayAmt}</div> </div> <div class="columns"> <div class="column label">本期应还</div> <div class="column summary">&yen;{board.currentRepayAmt}</div> </div> <div class="columns"> <div class="column label">未还总金额</div> <div class="column summary">&yen;{board.needRepayTatola}</div> </div> <div class="columns"> <div class="column label">本期期数/总期数</div> <div class="column summary">{board.currentPeriod}/{board.repayPeriod}</div> </div> <div class="columns"> <span class="debr-evidence">借据</span> </div> </div> </div> <div class="card-body" if="{board}"> <div class="columns"> <div class="column label">借款金额</div> <div class="column summary">&yen;{board.loanAmt}</div> </div> <div class="columns"> <div class="column label">收款账户</div> <div class="column summary">{board.account}</div> </div> <div class="columns"> <div class="column label">日利率</div> <div class="column summary">{board.rate}%</div> </div> <div class="columns"> <div class="column label">起止时间</div> <div class="column summary">{formatDate(board.firstRepayDate)}-{formatDate(board.endRepayDate)}</div> </div> <div class="columns"> <div class="column label">首次还款日</div> <div class="column summary">{formatDate(board.firstRepayDate)}</div> </div> <div class="columns"> <div class="column label">借款人姓名</div> <div class="column summary">{board.fullName}</div> </div> <div class="columns"> <div class="column label">借款人身份证</div> <div class="column summary">{board.idNo}</div> </div> <div class="columns"> <div class="column label">还款日</div> <div class="column summary">每月{board.repayDateStr}日</div> </div> <div class="columns" if="{planFlag}"> <div class="column label">还款计划</div> <div class="column summary handleRepaySchedule" onclick="{handleRepaySchedule}">查看</div> </div> <div class="columns"> <div class="column label">借款期限</div> <div class="column summary">{board.repayPeriod}个月</div> </div> <div class="columns"> <div class="column label">借款用途</div> <div class="column summary">{board.loanUsage}</div> </div> <div class="columns"> <div class="column label">还款银行卡</div> <div class="column summary">{board.account}</div> </div> <div class="columns"> <div class="column label">贷款发放人</div> <div class="column summary">{board.loanPrivider}</div> </div> <div class="columns"> <div class="column label">借款合同</div> <div class="column summary handleLoanContract" onclick="{handleLoanContract}">查看</div> </div> </div> </div> </div>',"","",function(a){var s=this;this.flag=!1,this.board;this.formatStatus=function(a){var s="";switch(a){case"01":s="还款处理中";break;case"02":s="已结清";break;case"03":s="逾期";break;case"04":s="还款中";break;case"05":s="转让";break;case"06":s="放款失败";break;case"07":s="放款中";break;default:s=""}return s}.bind(this),this.formatDate=function(a){var a=a.replace(/\//g,".");return a}.bind(this),this.handleRepaySchedule=function(){var a=this.board.loanId;nativeJS.rePayPlanList(a)}.bind(this),this.handleLoanContract=function(){var a={protType:"T004",title:"合同及相关协议"},s=JSON.stringify(a);nativeJS.clickProtocol(s)}.bind(this),window.debitDetailOrder=function(a){var l=JSON.parse(a),i=1==l.flag;l.loanStatus?s.update({isOverDue:!1}):s.update({isOverDue:!0}),s.update({board:l,flag:i}),"02"==l.loanStatus||"07"==l.loanStatus?s.update({planFlag:!1}):s.update({planFlag:!0}),i?("03"==l.loanStatus?s.update({isWarning:!0,overDueFlag:!0,overDueHide:!1}):s.update({isWarning:!1,overDueFlag:!1,overDueHide:!0}),"02"==l.loanStatus?s.update({flag:!1}):s.update({flag:!0})):"03"==l.loanStatus?s.update({isWarning:!0}):s.update({isWarning:!1})},this.on("mount",function(){nativeJS.onPageFinish()}),this.on("updated",function(){this.flag?$(".loan-detail-list").text("借款详单"):$(".loan-detail-list").text("借据")})});