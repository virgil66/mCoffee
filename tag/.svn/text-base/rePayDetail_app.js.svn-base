riot.tag2("card",'<div class="card-header" if="{(number!=1)}"> <div class="card-title"> {formatDate(firstRepayDate)} 借款 &yen;{needPaySumAmt} </div> <div class="show-title top"> <div class="columns"> <div class="column is-one-third text-left">第1期</div> <div class="column is-one-third text-center runtime"> </div> <div class="column is-one-third text-right"> <span>第{number}期</span> </div> </div> </div> <div class="show-bar"> <div class="columns"> <div class="column is-one-third text-left"> <span class="dot passed" if="{current!=1}"></span> <span class="dot runtime" if="{current==1}"></span> </div> <div class="column is-one-third text-center"> </div> <div class="column is-one-third text-right"> <span class="dot" if="{current!=number}"></span> </div> </div> </div> <div class="show-bar-line"> <div class="columns"> <div class="{column:true,passed:index+1<current}" each="{item, index in total}"> <div class="current dot" if="{(index+2==current)}"> <span class="{success-finished:true,hint-text:true,               left:(getCurrentPosition()==⁗left⁗),               right:(getCurrentPosition()==⁗right⁗),               center:(getCurrentPosition()==⁗center⁗)}" if="{currentResult}">{currentResult}第{current}期</span> <span class="{success-finished:true,hint-text:true,                       left:(getCurrentPosition()==⁗left⁗),                       right:(getCurrentPosition()==⁗right⁗),                       center:(getCurrentPosition()==⁗center⁗)}" if="{sucessFlag}">已结清</span> </div> </div> </div> </div> <div class="show-title"> <div class="columns"> <div class="column is-one-third text-left"> <span class="theme-color" if="{(current==1)}">{currentResult}第1期</span> </div> <div class="column is-one-third text-center runtime"> </div> <div class="column is-one-third text-right hidden"> 第X期 </div> </div> </div> </div> <div class="card-header" if="{(number==1)}"> <div class="card-title"> {formatDate(firstRepayDate)} 借款 &yen;{needPaySumAmt} </div> <div class="show-title top"> <div class="columns"> <div class="column is-one-third text-left"></div> <div class="column is-one-third text-center runtime"> </div> <div class="column is-one-third text-right"> <span>第1期</span> </div> </div> </div> <div class="show-bar"> <div class="columns"> <div class="column is-one-thirds text-left"> <span class="dot passed"></span> </div> <div class="column is-one-thirds text-center"> </div> <div class="column is-one-thirds text-right"> <span class="dot runtime" id="sinlgeDot"></span> </div> </div> </div> <div class="show-bar-line"> <div class="columns"> <div class="column passed is-half"></div> <div class="column passed is-half"></div> </div> </div> <div class="show-title"> <div class="columns"> <div class="column is-one-thirds text-left"></div> <div class="column is-one-thirds text-center runtime"></div> <div class="column is-one-thirds text-right hint-text">已结清</div> </div> </div> </div> <div class="card-body"> <div class="card_list" each="{item, index in items}"> <div class="{columns:true, theme-color: (item.repayResult == ⁗03⁗), light: (item.repayResult != ⁗03⁗)}"> <div class="item-title column"> <span class="order">{index+1}</span>&yen;{item.repayAmt} <span if="{item.repayResult == ⁗02⁗ && item.overDueRepayAmt}" class="over-repay">(逾期已还&yen;{item.overDueRepayAmt})</span> </div> <div class="item-after "> {formatDate(item.repayDate)}&nbsp;{getResult(item.repayResult,item.overdueDay)} </div> </div> </div> </div>',"","",function(t){var e=this;this.number=1,this.total,this.current,this.currentResult,this.needPaySumAmt,this.firstRepayDate,this.items=[];this.getCurrentPosition=function(){var t=this.number,e=this.current;if(t%2==0){var i=t/2;return e<=i?"left":"right"}var i=Math.ceil(t/2);return e==i?"center":e<i?"left":"right"}.bind(this),this.getResult=function(t,e){return"01"==t?"未还款":"02"==t?"已还款":"03"==t?e?"逾期"+e+"天":"逾期":"04"==t?"还款中":void 0}.bind(this),this.formatDate=function(t){return null==t?"":t.replace(/\//g,".")}.bind(this),window.rePayDetail=function(t){var i=JSON.parse(t),s=parseInt(i.repayPeriod,10),n=parseInt(i.currentPeriod,10),r=i.currentResult;"03"==r?(r="(已逾期)",$(".main-card").addClass("red-theme"),e.update({sucessFlag:!1})):s==n?(r="",e.update({sucessFlag:!0})):r="(还款中)";var a=i.firstRepayDate,d=i.repayInfoList,c=i.needPaySumAmt;e.update({currentResult:r,number:s,total:new Array(s-1),current:n,firstRepayDate:a,needPaySumAmt:c,items:d})},this.on("mount",function(){nativeJS.onPageFinish()})});